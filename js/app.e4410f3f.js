(function(e){function t(t){for(var s,a,c=t[0],o=t[1],l=t[2],u=0,d=[];u<c.length;u++)a=c[u],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&d.push(n[a][0]),n[a]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);f&&f(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],s=!0,a=1;a<r.length;a++){var c=r[a];0!==n[c]&&(s=!1)}s&&(i.splice(t--,1),e=o(o.s=r[0]))}return e}var s={},a={app:0},n={app:0},i=[];function c(e){return o.p+"js/"+({}[e]||e)+"."+{"chunk-d694ed98":"3e553f3c"}[e]+".js"}function o(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=[],r={"chunk-d694ed98":1};a[e]?t.push(a[e]):0!==a[e]&&r[e]&&t.push(a[e]=new Promise((function(t,r){for(var s="css/"+({}[e]||e)+"."+{"chunk-d694ed98":"81269e80"}[e]+".css",n=o.p+s,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var l=i[c],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===s||u===n))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){l=d[c],u=l.getAttribute("data-href");if(u===s||u===n)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var s=t&&t.target&&t.target.src||n,i=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=s,delete a[e],f.parentNode.removeChild(f),r(i)},f.href=n;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){a[e]=0})));var s=n[e];if(0!==s)if(s)t.push(s[2]);else{var i=new Promise((function(t,r){s=n[e]=[t,r]}));t.push(s[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=c(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(f);var r=n[e];if(0!==r){if(r){var s=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+s+": "+a+")",d.name="ChunkLoadError",d.type=s,d.request=a,r[1](d)}n[e]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},o.m=e,o.c=s,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(r,s,function(t){return e[t]}.bind(null,s));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/centum-d-preview/",o.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var f=u;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"2e27":function(e,t,r){"use strict";r("4b3e")},"337e":function(e,t,r){},"4b3e":function(e,t,r){},"4cab":function(e,t,r){"use strict";r("9267")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},n=[],i={created:function(){this.$store.dispatch("getAllUsers")}},c=i,o=(r("5c0b"),r("2877")),l=Object(o["a"])(c,a,n,!1,null,null,null),u=l.exports,d=r("9483");Object(d["a"])("".concat("/centum-d-preview/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});r("d3b7"),r("3ca3"),r("ddb0");var f=r("8c4f"),m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"container users-list-page"},[r("div",{staticClass:"row"},[r("h1",[e._v("Users List")]),e.usersLoaded?r("table",{staticClass:"table users-table"},[r("thead",[r("tr",[r("th",{attrs:{scope:"col"}},[r("div",{staticClass:"form-check"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.selectAll,expression:"selectAll"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"flexCheckDefault"},domProps:{checked:Array.isArray(e.selectAll)?e._i(e.selectAll,null)>-1:e.selectAll},on:{change:function(t){var r=e.selectAll,s=t.target,a=!!s.checked;if(Array.isArray(r)){var n=null,i=e._i(r,n);s.checked?i<0&&(e.selectAll=r.concat([n])):i>-1&&(e.selectAll=r.slice(0,i).concat(r.slice(i+1)))}else e.selectAll=a}}}),r("label",{staticClass:"form-check-label",attrs:{for:"flexCheckDefault"}},[e._v(" Add all ")])])]),r("th",{attrs:{scope:"col"}},[e._v("Name")]),r("th",{attrs:{scope:"col"}},[e._v("Username")]),r("th",{attrs:{scope:"col"}},[e._v("Email")]),r("th",{attrs:{scope:"col"}}),r("th",{attrs:{scope:"col"}})])]),e._l(e.users,(function(t){return r("users-list-item",{key:t.id,attrs:{selectedAll:e.selectAll,user:t}})}))],2):r("div",{staticClass:"spinner-border",attrs:{role:"status"}},[r("span",{staticClass:"visually-hidden"},[e._v("Loading...")])]),0!==e.pagesCount&&e.usersLoaded?r("nav",{staticClass:"pagination-wrap"},[r("ul",{staticClass:"pagination"},[r("li",{staticClass:"page-item",class:{disabled:0===e.currentPage}},[r("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(t){t.preventDefault(),e.currentPage-=1}}},[r("span",{attrs:{"aria-hidden":"true"}},[e._v("«")])])]),e._l(e.pagesCount,(function(t){return r("li",{key:t,staticClass:"page-item",class:{active:e.currentPage===t-1}},[r("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(r){r.preventDefault(),e.currentPage=t-1}}},[e._v(" "+e._s(t)+" ")])])})),r("li",{staticClass:"page-item",class:{disabled:e.currentPage===e.pagesCount-1}},[r("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(t){t.preventDefault(),e.currentPage+=1}}},[r("span",{attrs:{"aria-hidden":"true"}},[e._v("»")])])])],2)]):e._e()])]),r("div",{staticClass:"container add-user-wrap"},[r("h2",[e._v("Add new user")]),r("user-form")],1)])},p=[],h=r("b85c"),b=r("5530"),v=(r("fb6a"),r("d81d"),r("caad"),r("2532"),r("2f62")),g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tbody",[r("tr",{class:{editMode:e.editFormVisible}},[r("td",[r("div",{staticClass:"form-check"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:e.checkboxId},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{change:function(t){var r=e.checked,s=t.target,a=!!s.checked;if(Array.isArray(r)){var n=null,i=e._i(r,n);s.checked?i<0&&(e.checked=r.concat([n])):i>-1&&(e.checked=r.slice(0,i).concat(r.slice(i+1)))}else e.checked=a}}}),r("label",{staticClass:"form-check-label",attrs:{for:e.checkboxId}},[e._v("Add to store")])])]),r("td",[e._v(" "+e._s(e.user.name)+" ")]),r("td",[e._v(" "+e._s(e.user.username)+" ")]),r("td",[r("a",{attrs:{href:"mailto: "+e.user.email}},[e._v(e._s(e.user.email))])]),r("td",[r("button",{staticClass:"btn btn-primary",on:{click:function(t){e.editFormVisible=!0}}},[e._v("Edit user")])]),r("td",[r("router-link",{staticClass:"btn btn-primary",attrs:{user:e.user,to:"/user-details/"+e.user.id}},[e._v("User Details")])],1)]),e.editFormVisible?r("tr",{staticClass:"edit-block"},[r("td",{attrs:{colspan:"6"}},[r("user-form",{attrs:{editMode:!0,user:e.userCopy}})],1)]):e._e()])},k=[],y=(r("e9c4"),r("aa74")),w={name:"users-list-item",components:{UserForm:y["a"]},data:function(){return{checked:!1,editFormVisible:!1}},props:{user:Object,selectedAll:Boolean},methods:Object(b["a"])({},Object(v["d"])(["checkUser","uncheckUser"])),watch:{selectedAll:function(){this.checked=this.selectedAll},checked:function(e){e&&!this.itemInStore&&this.checkUser(this.user),e||this.uncheckUser(this.user)}},computed:Object(b["a"])(Object(b["a"])({},Object(v["c"])(["checkedUsersId"])),{},{checkboxId:function(){return"flexCheckDefault"+this.user.id},itemInStore:function(){return this.checkedUsersId.includes(this.user.id)},userCopy:function(){return JSON.parse(JSON.stringify(this.user))}}),created:function(){this.itemInStore&&(this.checked=!0)}},C=w,U=(r("fbb4"),Object(o["a"])(C,g,k,!1,null,"10385ed4",null)),_=U.exports,O={name:"Users",components:{UsersListItem:_,UserForm:y["a"]},data:function(){return{currentPage:0,itemsPerPage:4,selectAll:!1}},computed:Object(b["a"])(Object(b["a"])({},Object(v["c"])(["checkedUsersId","allUsers","usersLoaded"])),{},{pageOffset:function(){return this.currentPage*this.itemsPerPage},pagesCount:function(){return Math.ceil(this.totalItems/this.itemsPerPage)},totalItems:function(){return this.allUsers.length},users:function(){return this.allUsers.slice(this.pageOffset,this.pageOffset+this.itemsPerPage)},usersIds:function(){return this.users.map((function(e){return e.id}))}}),watch:{currentPage:function(){var e,t=Object(h["a"])(this.usersIds);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(!this.checkedUsersId.includes(r))return void(this.selectAll=!1)}}catch(s){t.e(s)}finally{t.f()}this.selectAll=!0}}},j=O,P=(r("4cab"),Object(o["a"])(j,m,p,!1,null,null,null)),x=P.exports;s["a"].use(f["a"]);var D=[{path:"/",name:"Users",component:x},{path:"/user-details/:id",name:"UserDetails",component:function(){return r.e("chunk-d694ed98").then(r.bind(null,"7c87"))}}],A=new f["a"]({mode:"history",base:"/centum-d-preview/",routes:D}),N=A,S=r("c7eb"),I=r("1da1"),q=r("2909"),$=(r("7db0"),r("4de4"),r("99af"),"https://jsonplaceholder.typicode.com/users/");s["a"].use(v["a"]);var E=new v["a"].Store({state:{allUsers:[],checkedUsers:[],usersListReady:!1,requestPending:!1},getters:{checkedUsersId:function(e){return e.checkedUsers.map((function(e){return e.id}))},allUsers:function(e){return e.allUsers},userById:function(e){return function(t){return e.allUsers.find((function(e){return e.id===t}))}},usersLoaded:function(e){return e.usersListReady},requestIsPending:function(e){return e.requestPending}},mutations:{appendToUsersList:function(e,t){e.allUsers=Object(q["a"])(t),e.usersListReady=!0},checkUser:function(e,t){e.checkedUsers.push(t)},uncheckUser:function(e,t){e.checkedUsers=e.checkedUsers.filter((function(e){return e.id!==t.id}))},addUser:function(e,t){e.allUsers.unshift(t)},updateUserData:function(e,t){e.allUsers=e.allUsers.map((function(e){return e.id===t.id?t:e}))},changeRequestStatus:function(e,t){e.requestPending=t}},actions:{getAllUsers:function(e){return Object(I["a"])(Object(S["a"])().mark((function t(){var r,s,a;return Object(S["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,fetch($);case 3:return s=t.sent,t.next=6,s.json();case 6:a=t.sent,r("appendToUsersList",a);case 8:case"end":return t.stop()}}),t)})))()},createNewUser:function(e,t){return Object(I["a"])(Object(S["a"])().mark((function r(){var s,a,n;return Object(S["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=e.commit,r.next=3,fetch($,{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}});case 3:return a=r.sent,r.next=6,a.json();case 6:n=r.sent,s("addUser",n),s("changeRequestStatus",!1);case 9:case"end":return r.stop()}}),r)})))()},editUserData:function(e,t){return Object(I["a"])(Object(S["a"])().mark((function r(){var s,a,n;return Object(S["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=e.commit,r.prev=1,r.next=4,fetch("".concat($).concat(t.id),{method:"PUT",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}});case 4:return a=r.sent,r.next=7,a.json();case 7:n=r.sent,s("updateUserData",n),r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](1),alert("Fake API error - cannot rewrite missing item");case 14:s("changeRequestStatus",!1);case 15:case"end":return r.stop()}}),r,null,[[1,11]])})))()}}});r("ab8b");s["a"].config.productionTip=!1,new s["a"]({router:N,store:E,render:function(e){return e(u)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";r("9c0c")},9267:function(e,t,r){},"9c0c":function(e,t,r){},aa74:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{ref:"userForm",staticClass:"user-form",on:{submit:function(t){return t.preventDefault(),e.formSubmit.apply(null,arguments)}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col mb-3"},[r("label",{staticClass:"form-label",attrs:{for:"name"}},[e._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.formData.name,expression:"formData.name",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"name",required:""},domProps:{value:e.formData.name},on:{input:function(t){t.target.composing||e.$set(e.formData,"name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),r("div",{staticClass:"col mb-3"},[r("label",{staticClass:"form-label",attrs:{for:"username"}},[e._v("Username")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.formData.username,expression:"formData.username",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"username",required:""},domProps:{value:e.formData.username},on:{input:function(t){t.target.composing||e.$set(e.formData,"username",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),r("div",{staticClass:"col mb-3"},[r("label",{staticClass:"form-label",attrs:{for:"email"}},[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.formData.email,expression:"formData.email",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"email",id:"email",required:""},domProps:{value:e.formData.email},on:{input:function(t){t.target.composing||e.$set(e.formData,"email",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),r("div",{staticClass:"row"},[r("div",{staticClass:"col mb-3"},[r("label",{staticClass:"form-label",attrs:{for:"phone"}},[e._v("Phone")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.formData.phone,expression:"formData.phone",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"phone",required:""},domProps:{value:e.formData.phone},on:{input:function(t){t.target.composing||e.$set(e.formData,"phone",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),r("div",{staticClass:"col mb-3"},[r("label",{staticClass:"form-label",attrs:{for:"website"}},[e._v("Website")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.formData.website,expression:"formData.website",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"website",required:""},domProps:{value:e.formData.website},on:{input:function(t){t.target.composing||e.$set(e.formData,"website",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),r("button",{staticClass:"btn btn-primary submit-btn",class:{disact:e.requestIsPending},attrs:{type:"submit"}},[e.requestIsPending?r("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):r("span",[e._v(e._s(e.submitText))])]),e.editMode?r("button",{staticClass:"btn btn-danger cancel-btn",on:{click:function(t){t.preventDefault(),e.$parent.editFormVisible=!1}}},[e._v("Cancel")]):e._e()])},a=[],n=r("5530"),i=r("2f62"),c={name:"user-form",data:function(){return{formData:{}}},props:{user:Object,editMode:{type:Boolean,default:!1}},computed:Object(n["a"])(Object(n["a"])({},Object(i["c"])(["requestIsPending"])),{},{submitText:function(){return this.editMode?"Edit user data":"Add User"}}),watch:{requestIsPending:function(e){this.editMode&&!e&&(this.$parent.editFormVisible=!1),this.editMode||e||(this.formData={},this.$parent.currentPage=0)}},methods:Object(n["a"])(Object(n["a"])({},Object(i["b"])(["createNewUser","editUserData"])),{},{formSubmit:function(){this.$store.commit("changeRequestStatus",!0),this.editMode?this.editUserData(this.formData):this.createNewUser(this.formData)}}),created:function(){this.editMode&&(this.formData=this.user)}},o=c,l=(r("2e27"),r("2877")),u=Object(l["a"])(o,s,a,!1,null,null,null);t["a"]=u.exports},fbb4:function(e,t,r){"use strict";r("337e")}});
//# sourceMappingURL=app.e4410f3f.js.map